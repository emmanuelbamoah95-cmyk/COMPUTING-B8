<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Computing Quiz</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <style>
        :root {
            --primary: #3498db;
            --secondary: #2c3e50;
            --success: #27ae60;
            --danger: #e74c3c;
            --warning: #f39c12;
            --info: #9b59b6;
            --light: #ecf0f1;
            --dark: #34495e;
        }
        
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, #1a2a6c, #b21f1f, #fdbb2d);
            color: #333;
            line-height: 1.6;
            padding: 20px;
            min-height: 100vh;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background-color: rgba(255, 255, 255, 0.95);
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
        }
        
        header {
            text-align: center;
            margin-bottom: 30px;
            padding: 30px;
            border-bottom: 3px solid var(--secondary);
            background: linear-gradient(to right, var(--primary), var(--secondary));
            color: white;
            border-radius: 10px;
            position: relative;
            overflow: hidden;
        }
        
        .facilitator {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255, 255, 255, 0.2);
            padding: 12px 20px;
            border-radius: 25px;
            font-size: 1rem;
            font-weight: bold;
            backdrop-filter: blur(10px);
            border: 2px solid rgba(255, 255, 255, 0.3);
            animation: glow 2s ease-in-out infinite alternate;
        }
        
        @keyframes glow {
            from { box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); }
            to { box-shadow: 0 0 20px rgba(255, 255, 255, 0.8); }
        }
        
        h1 {
            margin-bottom: 10px;
            font-size: 2.5rem;
            text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .instructions {
            background-color: #e8f4f8;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid var(--primary);
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            animation: slideIn 0.5s ease-out;
        }
        
        @keyframes slideIn {
            from { transform: translateY(-20px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .instructions h2 {
            color: #2980b9;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .student-info {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 25px;
            border-left: 5px solid var(--primary);
            animation: slideIn 0.5s ease-out 0.2s both;
        }
        
        .student-info input {
            width: 100%;
            padding: 15px;
            margin: 10px 0;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s;
        }
        
        .student-info input:focus {
            border-color: var(--primary);
            outline: none;
            box-shadow: 0 0 8px rgba(52, 152, 219, 0.3);
            transform: scale(1.02);
        }
        
        .quiz-controls {
            display: flex;
            justify-content: space-between;
            margin-bottom: 25px;
            flex-wrap: wrap;
            gap: 15px;
            animation: slideIn 0.5s ease-out 0.4s both;
        }
        
        .quiz-info {
            display: flex;
            gap: 15px;
            align-items: center;
        }
        
        .score-display, .question-counter {
            background: var(--secondary);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            font-weight: bold;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .question-counter {
            background: var(--primary);
        }
        
        .navigation-buttons {
            display: flex;
            gap: 10px;
        }
        
        .btn {
            display: inline-block;
            background-color: var(--primary);
            color: white;
            padding: 15px 25px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 8px rgba(0, 0, 0, 0.15);
        }
        
        .btn:active {
            transform: translateY(-1px);
        }
        
        .btn:disabled {
            background-color: #bdc3c7;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-prev {
            background-color: var(--warning);
        }
        
        .btn-next {
            background-color: var(--success);
        }
        
        .btn-submit {
            background-color: var(--danger);
            padding: 18px 35px;
            font-size: 1.2rem;
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .btn-download {
            background-color: var(--info);
        }
        
        .btn-reset {
            background-color: var(--danger);
        }
        
        .question-container {
            margin-bottom: 30px;
            padding: 25px;
            border-radius: 10px;
            background-color: white;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
            border-left: 5px solid var(--primary);
            transition: all 0.3s;
            animation: slideIn 0.5s ease-out 0.6s both;
        }
        
        .question-number {
            font-weight: bold;
            color: var(--secondary);
            margin-bottom: 20px;
            font-size: 1.3rem;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .question-text {
            margin-bottom: 25px;
            font-size: 1.2rem;
            line-height: 1.6;
        }
        
        .options {
            display: grid;
            grid-template-columns: 1fr;
            gap: 15px;
        }
        
        .option {
            padding: 18px;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .option:hover {
            background-color: #f5f5f5;
            border-color: #bdc3c7;
            transform: translateX(5px);
        }
        
        .option.selected {
            background-color: #d6eaf8;
            border-color: var(--primary);
            font-weight: bold;
            transform: translateX(10px);
        }
        
        .option.correct {
            background-color: #d5f5e3;
            border-color: var(--success);
        }
        
        .option.incorrect {
            background-color: #fadbd8;
            border-color: var(--danger);
        }
        
        .option.locked {
            cursor: not-allowed;
        }
        
        .option-label {
            background: var(--primary);
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            transition: all 0.3s;
        }
        
        .option.selected .option-label {
            background: var(--secondary);
            transform: scale(1.1);
        }
        
        .actions {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 35px;
            flex-wrap: wrap;
        }
        
        .completion-message {
            text-align: center;
            padding: 40px;
            background: linear-gradient(to right, var(--success), #2ecc71);
            color: white;
            border-radius: 10px;
            margin-top: 25px;
            display: none;
            animation: slideIn 0.5s ease-out;
        }
        
        .progress-bar {
            height: 12px;
            background-color: #ecf0f1;
            border-radius: 6px;
            margin-bottom: 25px;
            overflow: hidden;
            animation: slideIn 0.5s ease-out 0.4s both;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(to right, var(--primary), var(--secondary));
            width: 0%;
            transition: width 0.5s ease-in-out;
        }
        
        .submit-section {
            text-align: center;
            margin: 30px 0;
            padding: 25px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
            animation: slideIn 0.5s ease-out;
        }
        
        .results-summary {
            background: #e8f4f8;
            padding: 25px;
            border-radius: 10px;
            margin-top: 25px;
            display: none;
            animation: slideIn 0.5s ease-out;
        }
        
        .feedback {
            padding: 18px;
            margin: 15px 0;
            border-radius: 8px;
            display: none;
            animation: slideIn 0.5s ease-out;
        }
        
        .feedback.correct {
            background: #d5f5e3;
            border-left: 5px solid var(--success);
        }
        
        .feedback.incorrect {
            background: #fadbd8;
            border-left: 5px solid var(--danger);
        }
        
        footer {
            text-align: center;
            margin-top: 35px;
            color: #7f8c8d;
            font-size: 0.9rem;
            padding-top: 20px;
            border-top: 1px solid #ecf0f1;
        }
        
        .confetti {
            position: fixed;
            width: 10px;
            height: 10px;
            background-color: var(--primary);
            opacity: 0.7;
            z-index: 1000;
        }
        
        .question-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(50px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .question-list-item {
            background: #ecf0f1;
            border-radius: 5px;
            padding: 10px;
            text-align: center;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .question-list-item:hover {
            background: #bdc3c7;
        }
        
        .question-list-item.current {
            background: var(--primary);
            color: white;
        }
        
        .question-list-item.answered {
            background: var(--success);
            color: white;
        }
    </style>
</head>
<body>
    <div class="container" id="quiz-container">
        <header>
            <div class="facilitator">👨‍🏫 Facilitated by Sir Emma</div>
            <h1>Interactive Computing Quiz</h1>
            <p class="subtitle">Test your knowledge with these 40 multiple-choice questions</p>
        </header>
        
        <section class="instructions">
            <h2>📝 Instructions</h2>
            <ul>
                <li>Enter your name and class before starting</li>
                <li>Select one answer for each question</li>
                <li>Navigate between questions using Previous and Next buttons</li>
                <li>Click "Submit All Answers" when you're finished to see your score</li>
                <li>After submission, you cannot change your answers</li>
                <li>Download your results as PDF</li>
            </ul>
        </section>
        
        <div class="student-info">
            <h3>Student Information</h3>
            <input type="text" id="studentName" placeholder="Enter your full name">
            <input type="text" id="studentClass" placeholder="Enter your class">
        </div>
        
        <div class="progress-bar">
            <div class="progress" id="progress"></div>
        </div>
        
        <div class="question-list" id="question-list">
            <!-- Question list will be generated by JavaScript -->
        </div>
        
        <div class="quiz-controls">
            <div class="quiz-info">
                <div class="score-display">Score: <span id="score">0</span>/40</div>
                <div class="question-counter">Question: <span id="current-question">1</span>/40</div>
            </div>
            <div class="navigation-buttons">
                <button class="btn btn-prev" id="prev-btn">← Previous</button>
                <button class="btn btn-next" id="next-btn">Next →</button>
            </div>
        </div>
        
        <div class="question-container" id="question-display">
            <!-- Question content will be loaded here by JavaScript -->
        </div>
        
        <div class="submit-section" id="submit-section">
            <button class="btn btn-submit" id="submit-btn">Submit All Answers</button>
            <p style="margin-top: 15px; color: #666;">Once you submit, you cannot change your answers!</p>
        </div>
        
        <div class="completion-message" id="completion-message">
            <h2>🎉 Quiz Completed! 🎉</h2>
            <p>You've answered all the questions. Your final score is <span id="final-score">0</span>/40.</p>
            <p>Click "Download PDF" to save your results or "Reset Quiz" to try again.</p>
        </div>
        
        <div class="results-summary" id="results-summary">
            <h3>Results Summary</h3>
            <div id="correct-answers"></div>
        </div>
        
        <div class="actions">
            <button class="btn btn-download" id="download-pdf">Download PDF</button>
            <button class="btn btn-reset" id="reset-btn">Reset Quiz</button>
        </div>
        
        <footer>
            <p>Interactive Computing Quiz | Facilitated by Sir Emma | All rights reserved</p>
        </footer>
    </div>

    <script>
        // Quiz data - ALL 40 COMPUTING QUESTIONS
        const quizData = [
            {
                question: "1. What is another name for a USB flash drive?",
                options: ["A. External hard drive", "B. Optical disc drive", "C. Thumb drive", "D. Memory card"],
                answer: 2
            },
            {
                question: "2. Which type of storage device is significantly faster compared to traditional hard disk drives?",
                options: ["A. Memory cards", "B. Solid state drives (SSDs)", "C. Optical disc drives", "D. Hybrid hard drives"],
                answer: 1
            },
            {
                question: "3. One problem associated with the use of AI software is:",
                options: ["A. Enhanced decision-making capabilities", "B. Improved data accuracy", "C. Increased human productivity", "D. Job losses due to automation"],
                answer: 3
            },
            {
                question: "4. Why is file compression useful? It...",
                options: ["A. Allows for faster file transfer over the internet", "B. Allows for better data organization on a PC", "C. Improves the speed and performance of a hard disk", "D. Allows multiple operating systems on one PC"],
                answer: 0
            },
            {
                question: "5. What is the main use of an Optical Character Reader (OCR)?",
                options: ["A. Processing cheques in banking operations", "B. Digitizing printed books", "C. Reading passports and ID cards", "D. Marking objective/multiple-choice sheets"],
                answer: 1
            },
            {
                question: "6. What is the main use of an Optical Mark Reader (OMR)?",
                options: ["A. Marking objective/multiple-choice sheets", "B. Processing cheques in banking operations", "C. Scanning and digitizing printed books", "D. Reading passports and ID cards"],
                answer: 0
            },
            {
                question: "7. What does file compression maintain while reducing file size?",
                options: ["A. File encryption", "B. File metadata", "C. File integrity", "D. File permissions"],
                answer: 2
            },
            {
                question: "8. What does CMYK stand for in inkjet printers?",
                options: ["A. Color, Magenta, Yellow, Key", "B. Cyan, Magenta, Yellow, Key", "C. Color, Magenta, Yellow, Black", "D. Cyan, Magenta, Yellow, Black"],
                answer: 3
            },
            {
                question: "9. What is the purpose of defragmentation? To...",
                options: ["A. Divide a disk into multiple partitions", "B. Compress files and reduce their size", "C. Recover data from a damaged disk", "D. Improve the speed and performance of a hard disk"],
                answer: 3
            },
            {
                question: "10. Which type of printer creates tangible dots on paper for the visually impaired?",
                options: ["A. Inkjet printer", "B. Braille printer", "C. Thermal printer", "D. Impact printer"],
                answer: 1
            },
            {
                question: "11. Which of the following is an advantage of Optical Mark Reader (OMR) over manual input?",
                options: ["A. Can read handwritten text accurately", "B. Can input and read text", "C. Can process cheques quickly", "D. Faster and accurate"],
                answer: 3
            },
            {
                question: "12. Building and maintaining quantum computers is:",
                options: ["A. Cost-effective", "B. Expensive", "C. Inexpensive", "D. Affordable for all organizations"],
                answer: 1
            },
            {
                question: "13. What is the main use of a Magnetic Ink Character Recognition (MICR) Reader?",
                options: ["A. Processing cheques in banking operations", "B. Marking objective/multiple-choice sheets", "C. Reading passports and ID cards", "D. Digitizing printed books"],
                answer: 0
            },
            {
                question: "14. Quantum computers operate based on the principles of:",
                options: ["A. Data processing and visualization", "B. Encryption and decryption", "C. Superposition and entanglement", "D. Automation and machine learning"],
                answer: 2
            },
            {
                question: "15. How can QR codes be scanned to access linked information or websites? By using...",
                options: ["A. Visible red light", "B. Ultraviolet light", "C. A smartphone camera", "D. Infrared light"],
                answer: 2
            },
            {
                question: "16. What is NOT a characteristic of non-impact printers?",
                options: ["A. They are page printers.", "B. They are less expensive.", "C. They are quiet in nature.", "D. They produce high-quality print."],
                answer: 1
            },
            {
                question: "17. Which of the following storage devices consists entirely of electronic components and contains no moving parts?",
                options: ["A. Magnetic tape drive", "B. Optical disc drive (ODD)", "C. Solid state drive (SSD)", "D. Hard disk drive (HDD)"],
                answer: 2
            },
            {
                question: "18. What type of information can be stored in a QR code?",
                options: ["A. Website address (URL)", "B. Plain text", "C. All of the above", "D. Contact details"],
                answer: 2
            },
            {
                question: "19. What is a hybrid hard drive? It is a storage device that...",
                options: ["A. Combines CD drive and a DVD drive", "B. Combines the best features of a HDD and SSD", "C. Uses magnetic tape for data storage", "D. Only uses flash memory for data storage"],
                answer: 1
            },
            {
                question: "20. Entanglement in quantum computers involves the ability to...",
                options: ["A. Separate qubits from each other", "B. Link two or more qubits together", "C. Exist in multiple states simultaneously", "D. Perform complex tasks"],
                answer: 1
            },
            {
                question: "21. Flawed predictions and decisions in AI software can occur if:",
                options: ["A. The software is not personalized", "B. The data used for training is inaccurate", "C. The software lacks emotions", "D. The data processed is too large"],
                answer: 1
            },
            {
                question: "22. What is flash memory?",
                options: ["A. Magnetic storage medium used in hard disk drives", "B. Non-volatile memory that can be erased electronically", "C. Optical storage medium used in CDs and DVDs", "D. Volatile memory that requires constant power supply"],
                answer: 1
            },
            {
                question: "23. Which keys on the QWERTY keyboard are used to control the direction of the cursor?",
                options: ["A. Alphanumeric keys", "B. Function keys", "C. Cursor keys", "D. Numeric keypad"],
                answer: 2
            },
            {
                question: "24. One problem with quantum computers is:",
                options: ["A. Difficulty in developing quantum algorithms and programming languages", "B. General-purpose problem-solving capabilities", "C. Insensitivity to noise", "D. Low cost of building and maintenance"],
                answer: 0
            },
            {
                question: "25. AI software boosts productivity by:",
                options: ["A. Slowing down decision-making processes", "B. Increasing human workforce", "C. Automating repetitive tasks", "D. Reducing data processing capabilities"],
                answer: 2
            },
            {
                question: "26. What is the main purpose of the body of a mouse?",
                options: ["A. Opening context menus", "B. Tracking movement", "C. Selecting items", "D. Serving as a palm rest"],
                answer: 3
            },
            {
                question: "27. Which section of the QWERTY keyboard is used for typing text in documents?",
                options: ["A. Alphanumeric keys", "B. Cursor keys", "C. Numeric keypad", "D. Function keys"],
                answer: 0
            },
            {
                question: "28. What is an advantage of using a Magnetic Stripe Reader (MCR)?",
                options: ["A. Can hold a large amount of data", "B. Works at a distance without contact", "C. Allows human-readable information on cards", "D. Prevents unauthorized access to secure areas"],
                answer: 2
            },
            {
                question: "29. What is a QR Code Generator?",
                options: ["A. A software for decoding QR codes", "B. A device used to scan QR codes", "C. A device used to generate QR codes", "D. A web-based application for creating QR codes"],
                answer: 3
            },
            {
                question: "30. Which type of printer designs and builds three-dimensional models using an additive manufacturing process?",
                options: ["A. 3D printer", "B. Inkjet printer", "C. Laser printer", "D. Dot matrix printer"],
                answer: 0
            },
            {
                question: "31. Which of the following is an example of a digital/virtual assistant?",
                options: ["A. Excel", "B. Photoshop", "C. PowerPoint", "D. Siri"],
                answer: 3
            },
            {
                question: "32. What is one benefit of having multiple partitions on a hard drive?",
                options: ["A. Increased storage capacity", "B. Improved data security", "C. Simultaneous running of multiple operating systems", "D. Faster file transfer speeds"],
                answer: 2
            },
            {
                question: "33. What is a mouse pad?",
                options: ["A. A device used for capturing handwritten input on a computer screen", "B. A device used for scanning documents", "C. A device used for printing documents", "D. A flat surface on which a mouse is placed for smooth movement"],
                answer: 3
            },
            {
                question: "34. Quantum computers are very sensitive to noise, which can lead to:",
                options: ["A. Improved calculations", "B. Faster processing speed", "C. Errors in calculations", "D. Lower cost of operation"],
                answer: 2
            },
            {
                question: "35. One challenge with quantum computers is that they can only solve specific problems because:",
                options: ["A. They lack computing power", "B. They are limited by their architecture and design", "C. They are not efficient enough", "D. They are not compatible with existing software"],
                answer: 1
            },
            {
                question: "36. Digital virtual assistants utilize which technologies to perform tasks and respond to user queries?",
                options: ["A. Augmented reality and virtual reality", "B. Robotics and automation", "C. Natural language processing and machine learning", "D. Quantum computing and data visualization"],
                answer: 2
            },
            {
                question: "37. What is a barcode?",
                options: ["A. A device used to read information on product identification codes", "B. A device used to generate product identification codes", "C. A series of vertical lines representing product identification codes", "D. A series of horizontal lines representing product identification codes"],
                answer: 2
            },
            {
                question: "38. Superposition in quantum computers refers to:",
                options: ["A. The ability of a qubit to exist in multiple states simultaneously", "B. The process of linking two or more qubits together", "C. The separation of qubits from each other", "D. The ability to perform complex tasks"],
                answer: 0
            },
            {
                question: "39. How many keys does the standard QWERTY keyboard have?",
                options: ["A. 52", "B. 104", "C. 130", "D. 78"],
                answer: 1
            },
            {
                question: "40. What is the function of the scroll wheel on a mouse?",
                options: ["A. Opening context menus", "B. Selecting items", "C. Moving the mouse pointer", "D. Moving the page of a window up and down"],
                answer: 3
            }
        ];

        // Quiz state
        let currentQuestion = 0;
        let userAnswers = Array(quizData.length).fill(null);
        let score = 0;
        let quizSubmitted = false;

        // DOM elements
        const questionDisplay = document.getElementById('question-display');
        const questionList = document.getElementById('question-list');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const currentQuestionSpan = document.getElementById('current-question');
        const scoreSpan = document.getElementById('score');
        const progressBar = document.getElementById('progress');
        const completionMessage = document.getElementById('completion-message');
        const finalScoreSpan = document.getElementById('final-score');
        const downloadBtn = document.getElementById('download-pdf');
        const resetBtn = document.getElementById('reset-btn');
        const studentNameInput = document.getElementById('studentName');
        const studentClassInput = document.getElementById('studentClass');
        const submitSection = document.getElementById('submit-section');
        const submitBtn = document.getElementById('submit-btn');
        const resultsSummary = document.getElementById('results-summary');

        // Initialize the quiz
        function initQuiz() {
            createQuestionList();
            loadQuestion(currentQuestion);
            updateProgress();
            updateNavigation();
        }

        // Create the question list navigation
        function createQuestionList() {
            questionList.innerHTML = '';
            for (let i = 0; i < quizData.length; i++) {
                const listItem = document.createElement('div');
                listItem.className = 'question-list-item';
                if (i === currentQuestion) {
                    listItem.classList.add('current');
                }
                if (userAnswers[i] !== null) {
                    listItem.classList.add('answered');
                }
                listItem.textContent = i + 1;
                listItem.addEventListener('click', () => {
                    currentQuestion = i;
                    loadQuestion(currentQuestion);
                    updateQuestionList();
                    updateNavigation();
                });
                questionList.appendChild(listItem);
            }
        }

        // Update the question list highlighting
        function updateQuestionList() {
            const items = questionList.querySelectorAll('.question-list-item');
            items.forEach((item, index) => {
                item.classList.remove('current');
                if (index === currentQuestion) {
                    item.classList.add('current');
                }
                
                if (userAnswers[index] !== null) {
                    item.classList.add('answered');
                } else {
                    item.classList.remove('answered');
                }
            });
        }

        // Load a question
        function loadQuestion(index) {
            const question = quizData[index];
            currentQuestionSpan.textContent = index + 1;
            
            let optionsHTML = '';
            question.options.forEach((option, i) => {
                const isSelected = userAnswers[index] === i;
                let optionClass = 'option';
                if (isSelected) optionClass += ' selected';
                if (quizSubmitted) {
                    optionClass += ' locked';
                    if (i === question.answer) optionClass += ' correct';
                    else if (isSelected && i !== question.answer) optionClass += ' incorrect';
                }
                
                optionsHTML += `
                    <div class="${optionClass}" data-index="${i}">
                        <div class="option-label">${String.fromCharCode(65 + i)}</div>
                        <div class="option-text">${option}</div>
                    </div>
                `;
            });
            
            questionDisplay.innerHTML = `
                <div class="question-number">Question ${index + 1}</div>
                <div class="question-text">${question.question}</div>
                <div class="options">${optionsHTML}</div>
            `;
            
            // Add event listeners to options if quiz not submitted
            if (!quizSubmitted) {
                const options = questionDisplay.querySelectorAll('.option');
                options.forEach(option => {
                    option.addEventListener('click', () => {
                        const selectedIndex = parseInt(option.getAttribute('data-index'));
                        userAnswers[index] = selectedIndex;
                        
                        // Update UI with animation
                        options.forEach(opt => {
                            opt.classList.remove('selected');
                            opt.style.transform = 'translateX(0)';
                        });
                        option.classList.add('selected');
                        
                        updateProgress();
                        updateQuestionList();
                        checkAllQuestionsAnswered();
                        
                        // Add selection animation
                        option.style.transform = 'translateX(10px)';
                    });
                });
            }
        }

        // Check if all questions are answered
        function checkAllQuestionsAnswered() {
            const allAnswered = userAnswers.every(answer => answer !== null);
            if (allAnswered && !quizSubmitted) {
                submitSection.style.display = 'block';
                submitSection.style.animation = 'slideIn 0.5s ease-out';
            }
        }

        // Calculate the current score
        function calculateScore() {
            score = 0;
            userAnswers.forEach((answer, index) => {
                if (answer !== null && answer === quizData[index].answer) {
                    score++;
                }
            });
            scoreSpan.textContent = score;
            return score;
        }

        // Update progress bar
        function updateProgress() {
            const answeredCount = userAnswers.filter(answer => answer !== null).length;
            const progressPercent = (answeredCount / quizData.length) * 100;
            progressBar.style.width = `${progressPercent}%`;
        }

        // Update navigation buttons
        function updateNavigation() {
            prevBtn.disabled = currentQuestion === 0;
            nextBtn.disabled = currentQuestion === quizData.length - 1;
        }

        // Show results after submission
        function showResults() {
            calculateScore();
            completionMessage.style.display = 'block';
            finalScoreSpan.textContent = score;
            
            // Create results summary
            let summaryHTML = '<h4>Review your answers:</h4>';
            userAnswers.forEach((answer, index) => {
                const question = quizData[index];
                const isCorrect = answer === question.answer;
                const answerClass = isCorrect ? 'correct' : 'incorrect';
                const icon = isCorrect ? '✅' : '❌';
                
                summaryHTML += `
                    <div class="feedback ${answerClass}">
                        <p><strong>${icon} Question ${index + 1}:</strong> ${question.question}</p>
                        <p>Your answer: ${answer !== null ? question.options[answer] : 'Not answered'}</p>
                        ${!isCorrect ? `<p>Correct answer: ${question.options[question.answer]}</p>` : ''}
                    </div>
                `;
            });
            
            resultsSummary.innerHTML = summaryHTML;
            resultsSummary.style.display = 'block';
            
            // Show confetti for good scores (80% or higher)
            if (score >= quizData.length * 0.8) {
                createConfetti();
            }
        }

        // Create confetti animation
        function createConfetti() {
            const colors = ['#3498db', '#e74c3c', '#2ecc71', '#f39c12', '#9b59b6'];
            for (let i = 0; i < 150; i++) {
                setTimeout(() => {
                    const confetti = document.createElement('div');
                    confetti.className = 'confetti';
                    confetti.style.left = Math.random() * 100 + 'vw';
                    confetti.style.top = '-10px';
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.transform = `rotate(${Math.random() * 360}deg)`;
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = Math.random() * 10 + 5 + 'px';
                    document.body.appendChild(confetti);
                    
                    // Animate confetti
                    const animation = confetti.animate([
                        { top: '-10px', transform: 'rotate(0deg)', opacity: 1 },
                        { top: '100vh', transform: `rotate(${Math.random() * 720}deg)`, opacity: 0 }
                    ], {
                        duration: 3000 + Math.random() * 2000,
                        easing: 'cubic-bezier(0.1, 0.8, 0.3, 1)'
                    });
                    
                    animation.onfinish = () => confetti.remove();
                }, i * 20);
            }
        }

        // Event listeners for navigation
        prevBtn.addEventListener('click', () => {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion(currentQuestion);
                updateQuestionList();
                updateNavigation();
            }
        });

        nextBtn.addEventListener('click', () => {
            if (currentQuestion < quizData.length - 1) {
                currentQuestion++;
                loadQuestion(currentQuestion);
                updateQuestionList();
                updateNavigation();
            }
        });

        // Submit button event listener
        submitBtn.addEventListener('click', (e) => {
            e.preventDefault();
            
            const studentName = studentNameInput.value;
            const studentClass = studentClassInput.value;
            
            if (!studentName || !studentClass) {
                alert('Please enter your name and class before submitting.');
                return;
            }
            
            const allAnswered = userAnswers.every(answer => answer !== null);
            if (!allAnswered) {
                const unanswered = userAnswers.filter(answer => answer === null).length;
                if (!confirm(`You have ${unanswered} unanswered questions. Submit anyway?`)) {
                    return;
                }
            }
            
            // Disable all interactive elements
            quizSubmitted = true;
            submitBtn.disabled = true;
            submitSection.style.display = 'none';
            
            // Calculate and display final score
            calculateScore();
            showResults();
            
            // Reload current question to show correct/incorrect answers
            loadQuestion(currentQuestion);
            
            // Scroll to results
            completionMessage.scrollIntoView({ behavior: 'smooth' });
        });

        // Reset quiz
        resetBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to reset the quiz? All your answers will be lost.')) {
                currentQuestion = 0;
                userAnswers = Array(quizData.length).fill(null);
                score = 0;
                quizSubmitted = false;
                scoreSpan.textContent = score;
                studentNameInput.value = '';
                studentClassInput.value = '';
                submitSection.style.display = 'none';
                completionMessage.style.display = 'none';
                resultsSummary.style.display = 'none';
                submitBtn.disabled = false;
                initQuiz();
                
                // Remove all confetti
                document.querySelectorAll('.confetti').forEach(confetti => confetti.remove());
            }
        });

        // Download PDF
        downloadBtn.addEventListener('click', () => {
            const studentName = studentNameInput.value || 'Not provided';
            const studentClass = studentClassInput.value || 'Not provided';
            
            if (!studentNameInput.value || !studentClassInput.value) {
                alert('Please enter your name and class before downloading.');
                return;
            }
            
            const element = document.getElementById('quiz-container');
            const opt = {
                margin: 10,
                filename: `Computing_Quiz_${studentName.replace(/\s+/g, '_')}.pdf`,
                image: { type: 'jpeg', quality: 0.98 },
                html2canvas: { scale: 2 },
                jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }
            };
            
            html2pdf().set(opt).from(element).save();
        });

        // Initialize the quiz when the page loads
        window.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
    </html>
